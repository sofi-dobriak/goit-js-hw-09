{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["'use strict';\n\nconst LOCAL_STORAGE_KEY = 'feedback-form-state';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  labels: document.querySelectorAll('label'),\n  input: document.querySelector('input'),\n  textArea: document.querySelector('textarea'),\n  button: document.querySelector('button'),\n};\n\nlet formData = {\n  email: '',\n  message: '',\n};\n\nrefs.form.addEventListener('input', e => {\n  const email = e.currentTarget.elements.email.value;\n  const message = e.currentTarget.elements.message.value;\n\n  formData = { email, message };\n  saveToLS(LOCAL_STORAGE_KEY, formData);\n});\n\nfunction initPage() {\n  const formData = loadFromLS(LOCAL_STORAGE_KEY);\n\n  refs.form.elements.email.value = formData?.email || '';\n  refs.form.elements.message.value = formData?.message || '';\n}\n\nrefs.form.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const email = e.currentTarget.elements.email.value;\n  const message = e.currentTarget.elements.message.value;\n\n  if (!email || !message) {\n    alert('Fill please all fields');\n    return;\n  }\n\n  console.log({ email, message });\n\n  localStorage.removeItem(LOCAL_STORAGE_KEY);\n  refs.form.reset();\n});\n\ninitPage();\n\nfunction saveToLS(key, value) {\n  const jsonData = JSON.stringify(value);\n  localStorage.setItem(key, jsonData);\n}\n\nfunction loadFromLS(key) {\n  const body = localStorage.getItem(key);\n  try {\n    const data = JSON.parse(body);\n    return data;\n  } catch {\n    return body;\n  }\n}\n\n//-------------------------- STYLES ---------------------------------------\nrefs.labels.forEach(label => label.classList.add('form-label'));\nrefs.input.classList.add('form-input');\nrefs.textArea.classList.add('form-textarea');\nrefs.button.classList.add('form-button');\n//-----------------------------------------------------------------\n"],"names":["LOCAL_STORAGE_KEY","refs","formData","email","message","saveToLS","initPage","loadFromLS","key","value","jsonData","body","label"],"mappings":"wFAEA,MAAMA,EAAoB,sBAEpBC,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,OAAQ,SAAS,iBAAiB,OAAO,EACzC,MAAO,SAAS,cAAc,OAAO,EACrC,SAAU,SAAS,cAAc,UAAU,EAC3C,OAAQ,SAAS,cAAc,QAAQ,CACzC,EAEA,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEAD,EAAK,KAAK,iBAAiB,QAAS,GAAK,CACvC,MAAME,EAAQ,EAAE,cAAc,SAAS,MAAM,MACvCC,EAAU,EAAE,cAAc,SAAS,QAAQ,MAEjDF,EAAW,CAAE,MAAAC,EAAO,QAAAC,GACpBC,EAASL,EAAmBE,CAAQ,CACtC,CAAC,EAED,SAASI,GAAW,CAClB,MAAMJ,EAAWK,EAAWP,CAAiB,EAE7CC,EAAK,KAAK,SAAS,MAAM,OAAQC,GAAA,YAAAA,EAAU,QAAS,GACpDD,EAAK,KAAK,SAAS,QAAQ,OAAQC,GAAA,YAAAA,EAAU,UAAW,EAC1D,CAEAD,EAAK,KAAK,iBAAiB,SAAU,GAAK,CACxC,EAAE,eAAc,EAEhB,MAAME,EAAQ,EAAE,cAAc,SAAS,MAAM,MACvCC,EAAU,EAAE,cAAc,SAAS,QAAQ,MAEjD,GAAI,CAACD,GAAS,CAACC,EAAS,CACtB,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAI,CAAE,MAAAD,EAAO,QAAAC,CAAS,CAAA,EAE9B,aAAa,WAAWJ,CAAiB,EACzCC,EAAK,KAAK,OACZ,CAAC,EAEDK,IAEA,SAASD,EAASG,EAAKC,EAAO,CAC5B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACpC,CAEA,SAASH,EAAWC,EAAK,CACvB,MAAMG,EAAO,aAAa,QAAQH,CAAG,EACrC,GAAI,CAEF,OADa,KAAK,MAAMG,CAAI,CAEhC,MAAU,CACN,OAAOA,CACR,CACH,CAGAV,EAAK,OAAO,QAAQW,GAASA,EAAM,UAAU,IAAI,YAAY,CAAC,EAC9DX,EAAK,MAAM,UAAU,IAAI,YAAY,EACrCA,EAAK,SAAS,UAAU,IAAI,eAAe,EAC3CA,EAAK,OAAO,UAAU,IAAI,aAAa"}