{"version":3,"file":"books-catalog.js","sources":["../src/books-catalog.js"],"sourcesContent":["const BOOK_STORAGE_KEY = 'book-storage-key';\nconst BOOKS_STORAGE_LIST = 'books-storage-list';\n\nlet booksList = [];\n\nconst refs = {\n  bookForm: document.querySelector('.book-form'),\n  booksContainer: document.querySelector('.books-main-container'),\n};\n\nrefs.bookForm.addEventListener('input', e => {\n  const bookObject = {\n    image: e.currentTarget.elements.coverImage.value,\n    title: e.currentTarget.elements.title.value,\n    author: e.currentTarget.elements.author.value,\n    genre: e.currentTarget.elements.genre.value,\n    year: e.currentTarget.elements.publicYear.value,\n    description: e.currentTarget.elements.description.value,\n  };\n\n  saveToLS(BOOK_STORAGE_KEY, bookObject);\n});\n\nfunction initPage() {\n  const bookObject = loadFromLS(BOOK_STORAGE_KEY) || {};\n\n  refs.bookForm.elements.coverImage.value = bookObject.image || '';\n  refs.bookForm.elements.title.value = bookObject.title || '';\n  refs.bookForm.elements.author.value = bookObject.author || '';\n  refs.bookForm.elements.genre.value = bookObject.genre || 'Фентезі';\n  refs.bookForm.elements.publicYear.value = bookObject.year || '';\n  refs.bookForm.elements.description.value = bookObject.description || '';\n\n  booksList = loadFromLS(BOOKS_STORAGE_LIST) || [];\n  refs.booksContainer.innerHTML = booksTemplate(booksList);\n}\n\ninitPage();\n\nrefs.bookForm.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const image = e.currentTarget.elements.coverImage.value.trim();\n  const title = e.currentTarget.elements.title.value.trim();\n  const author = e.currentTarget.elements.author.value.trim();\n  const genre = e.currentTarget.elements.genre.value.trim();\n  const year = e.currentTarget.elements.publicYear.value.trim();\n  const description = e.currentTarget.elements.description.value.trim();\n\n  if (!image || !title || !author || !genre || !year || !description) {\n    alert('Please, fill all inputs');\n    return;\n  }\n\n  const bookObject = { image, title, author, genre, year, description };\n  booksList.push(bookObject);\n\n  refs.booksContainer.innerHTML = booksTemplate(booksList);\n  saveToLS(BOOKS_STORAGE_LIST, booksList);\n\n  refs.bookForm.reset();\n  localStorage.removeItem(BOOK_STORAGE_KEY);\n});\n\nfunction saveToLS(key, value) {\n  const jsonData = JSON.stringify(value);\n  localStorage.setItem(key, jsonData);\n}\n\nfunction loadFromLS(key) {\n  const data = localStorage.getItem(key);\n\n  try {\n    const parseData = JSON.parse(data);\n    return parseData;\n  } catch {\n    return data;\n  }\n}\n\nfunction bookTemplate({ image, title, author, genre, year, description }) {\n  return `\n            <div class=\"book-container\">\n                <img class=\"book-image\" src=\"${image}\" alt=\"${title} обкладинка\">\n                <p><strong>Назва: </strong>${title}</p>\n                <p><strong>Жанр: </strong>${genre}</p>\n                <p><strong>Автор: </strong>${author}</p>\n                <p><strong>Рік видання: </strong>${year}</p>\n                <p class=\"description\"><strong>Опис: </strong>${description}</p>\n            </div>\n  `;\n}\n\nfunction booksTemplate(books) {\n  return books.map(bookTemplate).join('\\n');\n}\n\nconst books = [\n  {\n    title: 'Володар перснів',\n    author: 'Дж. Р. Р. Толкін',\n    genre: ['Фентезі', 'Пригоди'],\n    publicationYear: 1954,\n    description:\n      \"Епічна історія про боротьбу добра і зла у Середзем'ї, де кільце всевладдя може змінити долю світу.\",\n    cover: 'https://surl.li/ljabrt',\n  },\n  {\n    title: 'Гаррі Поттер і філософський камінь',\n    author: 'Дж. К. Ролінґ',\n    genre: ['Фентезі', 'Пригоди'],\n    publicationYear: 1997,\n    description:\n      'Історія хлопчика-чарівника, який відкриває для себе світ магії та таємниць у школі Гоґвортс.',\n    cover: 'https://surl.li/ftjwrs',\n  },\n  {\n    title: 'Гра престолів',\n    author: 'Джордж Р. Р. Мартін',\n    genre: ['Фентезі', 'Драма'],\n    publicationYear: 1996,\n    description:\n      'Політичні інтриги, боротьба за владу та магічні сили у світі Вестеросу.',\n    cover: 'https://surl.li/jucxsx',\n  },\n  {\n    title: 'Форрест Гамп',\n    author: 'Вінстон Ґрум',\n    genre: ['Драма', 'Пригоди'],\n    publicationYear: 1986,\n    description:\n      'Неймовірні пригоди простодушного чоловіка, який стає учасником важливих історичних подій.',\n    cover: 'https://surl.li/tcjcub',\n  },\n  {\n    title: 'Голодні ігри',\n    author: 'Сюзанна Коллінз',\n    genre: ['Антиутопія', 'Пригоди'],\n    publicationYear: 2008,\n    description:\n      'У світі, де діти змушені боротися на арені до смерті, Катніс Евердін кидає виклик системі.',\n    cover: 'https://surl.li/gcmfon',\n  },\n  {\n    title: 'Піаніст',\n    author: 'Владислав Шпільман',\n    genre: ['Біографія', 'Історія'],\n    publicationYear: 1946,\n    description:\n      'Мемуари польського піаніста про виживання під час нацистської окупації Варшави.',\n    cover: 'https://surl.li/yonsza',\n  },\n  {\n    title: 'Втеча з Шоушенка',\n    author: 'Стівен Кінг',\n    genre: ['Драма', 'Кримінал'],\n    publicationYear: 1982,\n    description:\n      \"Історія несправедливо ув'язненого чоловіка, який планує втечу зі строгої в'язниці.\",\n    cover: 'https://surl.li/jnhhfl',\n  },\n  {\n    title: 'Шерлок Голмс: Етюд у багряних тонах',\n    author: 'Артур Конан Дойл',\n    genre: ['Детектив', 'Трилер'],\n    publicationYear: 1887,\n    description:\n      'Перший роман про знаменитого детектива Шерлока Голмса та його друга доктора Ватсона.',\n    cover: 'https://surl.li/etkymr',\n  },\n  {\n    title: 'Код да Вінчі',\n    author: 'Ден Браун',\n    genre: ['Трилер', 'Детектив'],\n    publicationYear: 2003,\n    description:\n      'Роберт Ленґдон розкриває таємниці, заховані у творах Леонардо да Вінчі, що ведуть до змови.',\n    cover: 'https://surl.li/hxihnx',\n  },\n  {\n    title: 'Мовчання ягнят',\n    author: 'Томас Гарріс',\n    genre: ['Трилер', 'Кримінал'],\n    publicationYear: 1988,\n    description:\n      'Агентка ФБР Кларіс Старлінг працює з харизматичним канібалом, щоб спіймати серійного вбивцю.',\n    cover: 'https://surl.li/jbdsyj',\n  },\n  {\n    title: 'Життя Пі',\n    author: 'Янн Мартель',\n    genre: ['Пригоди', 'Філософія'],\n    publicationYear: 2001,\n    description:\n      \"Хлопець на ім'я Пі виживає у відкритому океані разом із бенгальським тигром у рятувальному човні.\",\n    cover: 'https://surl.li/cqlgfp',\n  },\n  {\n    title: '1984',\n    author: 'Джордж Орвелл',\n    genre: ['Антиутопія', 'Політична сатира'],\n    publicationYear: 1949,\n    description:\n      'Світ тотального контролю, де \"Великий брат\" спостерігає за кожним кроком громадян.',\n    cover: 'https://surl.li/rlzxuq',\n  },\n];\n"],"names":["BOOK_STORAGE_KEY","BOOKS_STORAGE_LIST","booksList","refs","bookObject","saveToLS","initPage","loadFromLS","booksTemplate","image","title","author","genre","year","description","key","value","jsonData","data","bookTemplate","books"],"mappings":"wFAAA,MAAMA,EAAmB,mBACnBC,EAAqB,qBAE3B,IAAIC,EAAY,CAAA,EAEhB,MAAMC,EAAO,CACX,SAAU,SAAS,cAAc,YAAY,EAC7C,eAAgB,SAAS,cAAc,uBAAuB,CAChE,EAEAA,EAAK,SAAS,iBAAiB,QAAS,GAAK,CAC3C,MAAMC,EAAa,CACjB,MAAO,EAAE,cAAc,SAAS,WAAW,MAC3C,MAAO,EAAE,cAAc,SAAS,MAAM,MACtC,OAAQ,EAAE,cAAc,SAAS,OAAO,MACxC,MAAO,EAAE,cAAc,SAAS,MAAM,MACtC,KAAM,EAAE,cAAc,SAAS,WAAW,MAC1C,YAAa,EAAE,cAAc,SAAS,YAAY,KACtD,EAEEC,EAASL,EAAkBI,CAAU,CACvC,CAAC,EAED,SAASE,GAAW,CAClB,MAAMF,EAAaG,EAAWP,CAAgB,GAAK,CAAA,EAEnDG,EAAK,SAAS,SAAS,WAAW,MAAQC,EAAW,OAAS,GAC9DD,EAAK,SAAS,SAAS,MAAM,MAAQC,EAAW,OAAS,GACzDD,EAAK,SAAS,SAAS,OAAO,MAAQC,EAAW,QAAU,GAC3DD,EAAK,SAAS,SAAS,MAAM,MAAQC,EAAW,OAAS,UACzDD,EAAK,SAAS,SAAS,WAAW,MAAQC,EAAW,MAAQ,GAC7DD,EAAK,SAAS,SAAS,YAAY,MAAQC,EAAW,aAAe,GAErEF,EAAYK,EAAWN,CAAkB,GAAK,GAC9CE,EAAK,eAAe,UAAYK,EAAcN,CAAS,CACzD,CAEAI,IAEAH,EAAK,SAAS,iBAAiB,SAAU,GAAK,CAC5C,EAAE,eAAc,EAEhB,MAAMM,EAAQ,EAAE,cAAc,SAAS,WAAW,MAAM,OAClDC,EAAQ,EAAE,cAAc,SAAS,MAAM,MAAM,OAC7CC,EAAS,EAAE,cAAc,SAAS,OAAO,MAAM,OAC/CC,EAAQ,EAAE,cAAc,SAAS,MAAM,MAAM,OAC7CC,EAAO,EAAE,cAAc,SAAS,WAAW,MAAM,OACjDC,EAAc,EAAE,cAAc,SAAS,YAAY,MAAM,OAE/D,GAAI,CAACL,GAAS,CAACC,GAAS,CAACC,GAAU,CAACC,GAAS,CAACC,GAAQ,CAACC,EAAa,CAClE,MAAM,yBAAyB,EAC/B,MACD,CAED,MAAMV,EAAa,CAAE,MAAAK,EAAO,MAAAC,EAAO,OAAAC,EAAQ,MAAAC,EAAO,KAAAC,EAAM,YAAAC,GACxDZ,EAAU,KAAKE,CAAU,EAEzBD,EAAK,eAAe,UAAYK,EAAcN,CAAS,EACvDG,EAASJ,EAAoBC,CAAS,EAEtCC,EAAK,SAAS,QACd,aAAa,WAAWH,CAAgB,CAC1C,CAAC,EAED,SAASK,EAASU,EAAKC,EAAO,CAC5B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACpC,CAEA,SAASV,EAAWQ,EAAK,CACvB,MAAMG,EAAO,aAAa,QAAQH,CAAG,EAErC,GAAI,CAEF,OADkB,KAAK,MAAMG,CAAI,CAErC,MAAU,CACN,OAAOA,CACR,CACH,CAEA,SAASC,EAAa,CAAE,MAAAV,EAAO,MAAAC,EAAO,OAAAC,EAAQ,MAAAC,EAAO,KAAAC,EAAM,YAAAC,GAAe,CACxE,MAAO;AAAA;AAAA,+CAEsCL,CAAK,UAAUC,CAAK;AAAA,6CACtBA,CAAK;AAAA,4CACNE,CAAK;AAAA,6CACJD,CAAM;AAAA,mDACAE,CAAI;AAAA,gEACSC,CAAW;AAAA;AAAA,GAG3E,CAEA,SAASN,EAAcY,EAAO,CAC5B,OAAOA,EAAM,IAAID,CAAY,EAAE,KAAK;AAAA,CAAI,CAC1C"}