{"version":3,"file":"car-data-form.js","sources":["../src/car-data-form.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst CAR_STORAGE_KEY = 'car-form-data';\nconst CARS_LIST_KEY = 'cars-list';\nlet carsArray = [];\n\nconst refs = {\n  carForm: document.querySelector('.form'),\n  carContainer: document.querySelector('.car-main-container'),\n};\n\nrefs.carForm.addEventListener('input', e => {\n  const carData = {\n    url: e.currentTarget.elements.image.value,\n    brand: e.currentTarget.elements.brand.value,\n    model: e.currentTarget.elements.model.value,\n    color: e.currentTarget.elements.color.value,\n    onSale: e.currentTarget.elements.sale.value,\n  };\n\n  saveToLS(CAR_STORAGE_KEY, carData);\n});\n\nfunction initPage() {\n  const carFormData = loadFromLS(CAR_STORAGE_KEY) || {};\n\n  refs.carForm.elements.image.value = carFormData.url || '';\n  refs.carForm.elements.brand.value = carFormData.brand || '';\n  refs.carForm.elements.model.value = carFormData.model || '';\n  refs.carForm.elements.color.value = carFormData.color || '';\n  refs.carForm.elements.sale.value = carFormData.onSale || '';\n\n  carsArray = loadFromLS(CARS_LIST_KEY) || [];\n  refs.carContainer.innerHTML = carsTemplate(carsArray);\n}\n\ninitPage();\n\nrefs.carForm.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const url = e.currentTarget.elements.image.value.trim();\n  const brand = e.currentTarget.elements.brand.value.trim();\n  const model = e.currentTarget.elements.model.value.trim();\n  const color = e.currentTarget.elements.color.value.trim();\n  const onSale = e.currentTarget.elements.sale.value.trim();\n\n  if (!url || !brand || !model || !color || !onSale) {\n    alert('Please, fill all inputs');\n    return;\n  }\n\n  const carData = { url, brand, model, color, onSale };\n  carsArray.push(carData);\n\n  refs.carContainer.innerHTML = carsTemplate(carsArray);\n  saveToLS(CARS_LIST_KEY, carsArray);\n\n  refs.carForm.reset();\n  localStorage.removeItem(CAR_STORAGE_KEY);\n});\n\nfunction saveToLS(key, value) {\n  const JSONdata = JSON.stringify(value);\n  localStorage.setItem(key, JSONdata);\n}\n\nfunction loadFromLS(key) {\n  const data = localStorage.getItem(key);\n\n  try {\n    const parseData = JSON.parse(data);\n    return parseData;\n  } catch {\n    return data;\n  }\n}\n\nfunction carTemplate({ url, brand, model, color, onSale }) {\n  const saleColor = onSale === 'Yes' ? 'green' : 'red';\n  const onSaleText = `<span style = \"color: ${saleColor};\">${onSale}</span>`;\n  return `<div class=\"car-container\">\n                <img class=\"car-img\" src=\"${url}\" alt=\"${brand}\">\n                <p><strong>Brand:</strong> ${brand}</p>\n                <p><strong>Model:</strong> ${model}</p>\n                <p><strong>Color:</strong> ${color}</p>\n                <p><strong>On sale:</strong> ${onSaleText}</p>\n            </div>`;\n}\n\nfunction carsTemplate(cars) {\n  return cars.map(carTemplate).join('');\n}\n\nconst cars = [\n  {\n    image: 'https://surl.li/xcchoc',\n    brand: 'Audi',\n    model: 'TT RS',\n    color: 'Red',\n    sale: true,\n  },\n  {\n    image: 'https://surl.li/wttzye',\n    brand: 'BMW',\n    model: 'M3',\n    color: 'Blue',\n    sale: false,\n  },\n  {\n    image: 'https://surl.li/jvwdyq',\n    brand: 'Mercedes-Benz',\n    model: 'AMG GT 63',\n    color: 'Black',\n    sale: true,\n  },\n  {\n    image: 'https://surl.li/jomzkm',\n    brand: 'Porsche',\n    model: '911 GT3',\n    color: 'Yellow',\n    sale: false,\n  },\n  {\n    image: 'https://surl.li/xdtvpz',\n    brand: 'Ford',\n    model: 'Mustang GT',\n    color: 'Orange',\n    sale: true,\n  },\n  {\n    image: 'https://surl.li/ohhmjn',\n    brand: 'Tesla',\n    model: 'Model 3',\n    color: 'White',\n    sale: true,\n  },\n  {\n    image: 'https://surl.li/mmmxcg',\n    brand: 'Chevrolet',\n    model: 'Corvette',\n    color: 'Green',\n    sale: false,\n  },\n  {\n    image: 'https://surl.li/uhlfhd',\n    brand: 'Nissan',\n    model: '370Z',\n    color: 'Purple',\n    sale: true,\n  },\n  {\n    image: 'https://surl.li/dlvpat',\n    brand: 'Toyota',\n    model: 'Supra',\n    color: 'Silver',\n    sale: false,\n  },\n  {\n    image: 'https://surl.li/bwnucc',\n    brand: 'Jaguar',\n    model: 'F-Type',\n    color: 'Blue',\n    sale: true,\n  },\n  {\n    image: 'https://surl.li/wbfymr',\n    brand: 'Lamborghini',\n    model: 'Huracan',\n    color: 'Yellow',\n    sale: false,\n  },\n  {\n    image: 'https://surl.li/quyxxf',\n    brand: 'Ferrari',\n    model: '488 GTB',\n    color: 'Red',\n    sale: true,\n  },\n];\n"],"names":["CAR_STORAGE_KEY","CARS_LIST_KEY","carsArray","refs","carData","saveToLS","initPage","carFormData","loadFromLS","carsTemplate","url","brand","model","color","onSale","key","value","JSONdata","data","carTemplate","onSaleText","cars"],"mappings":"4HAGA,MAAMA,EAAkB,gBAClBC,EAAgB,YACtB,IAAIC,EAAY,CAAA,EAEhB,MAAMC,EAAO,CACX,QAAS,SAAS,cAAc,OAAO,EACvC,aAAc,SAAS,cAAc,qBAAqB,CAC5D,EAEAA,EAAK,QAAQ,iBAAiB,QAAS,GAAK,CAC1C,MAAMC,EAAU,CACd,IAAK,EAAE,cAAc,SAAS,MAAM,MACpC,MAAO,EAAE,cAAc,SAAS,MAAM,MACtC,MAAO,EAAE,cAAc,SAAS,MAAM,MACtC,MAAO,EAAE,cAAc,SAAS,MAAM,MACtC,OAAQ,EAAE,cAAc,SAAS,KAAK,KAC1C,EAEEC,EAASL,EAAiBI,CAAO,CACnC,CAAC,EAED,SAASE,GAAW,CAClB,MAAMC,EAAcC,EAAWR,CAAe,GAAK,CAAA,EAEnDG,EAAK,QAAQ,SAAS,MAAM,MAAQI,EAAY,KAAO,GACvDJ,EAAK,QAAQ,SAAS,MAAM,MAAQI,EAAY,OAAS,GACzDJ,EAAK,QAAQ,SAAS,MAAM,MAAQI,EAAY,OAAS,GACzDJ,EAAK,QAAQ,SAAS,MAAM,MAAQI,EAAY,OAAS,GACzDJ,EAAK,QAAQ,SAAS,KAAK,MAAQI,EAAY,QAAU,GAEzDL,EAAYM,EAAWP,CAAa,GAAK,GACzCE,EAAK,aAAa,UAAYM,EAAaP,CAAS,CACtD,CAEAI,IAEAH,EAAK,QAAQ,iBAAiB,SAAU,GAAK,CAC3C,EAAE,eAAc,EAEhB,MAAMO,EAAM,EAAE,cAAc,SAAS,MAAM,MAAM,OAC3CC,EAAQ,EAAE,cAAc,SAAS,MAAM,MAAM,OAC7CC,EAAQ,EAAE,cAAc,SAAS,MAAM,MAAM,OAC7CC,EAAQ,EAAE,cAAc,SAAS,MAAM,MAAM,OAC7CC,EAAS,EAAE,cAAc,SAAS,KAAK,MAAM,OAEnD,GAAI,CAACJ,GAAO,CAACC,GAAS,CAACC,GAAS,CAACC,GAAS,CAACC,EAAQ,CACjD,MAAM,yBAAyB,EAC/B,MACD,CAED,MAAMV,EAAU,CAAE,IAAAM,EAAK,MAAAC,EAAO,MAAAC,EAAO,MAAAC,EAAO,OAAAC,GAC5CZ,EAAU,KAAKE,CAAO,EAEtBD,EAAK,aAAa,UAAYM,EAAaP,CAAS,EACpDG,EAASJ,EAAeC,CAAS,EAEjCC,EAAK,QAAQ,QACb,aAAa,WAAWH,CAAe,CACzC,CAAC,EAED,SAASK,EAASU,EAAKC,EAAO,CAC5B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACpC,CAEA,SAAST,EAAWO,EAAK,CACvB,MAAMG,EAAO,aAAa,QAAQH,CAAG,EAErC,GAAI,CAEF,OADkB,KAAK,MAAMG,CAAI,CAErC,MAAU,CACN,OAAOA,CACR,CACH,CAEA,SAASC,EAAY,CAAE,IAAAT,EAAK,MAAAC,EAAO,MAAAC,EAAO,MAAAC,EAAO,OAAAC,GAAU,CAEzD,MAAMM,EAAa,yBADDN,IAAW,MAAQ,QAAU,KACM,MAAMA,CAAM,UACjE,MAAO;AAAA,4CACmCJ,CAAG,UAAUC,CAAK;AAAA,6CACjBA,CAAK;AAAA,6CACLC,CAAK;AAAA,6CACLC,CAAK;AAAA,+CACHO,CAAU;AAAA,mBAEzD,CAEA,SAASX,EAAaY,EAAM,CAC1B,OAAOA,EAAK,IAAIF,CAAW,EAAE,KAAK,EAAE,CACtC"}