{"version":3,"file":"solar-system.js","sources":["../src/solar-system.js"],"sourcesContent":["const SOLAR_OBJECT_KEY = 'solar-object';\nconst SOLAR_LIST_KEY = 'solar-list';\nlet solarList = [];\n\nconst refs = {\n  solarForm: document.querySelector('.solar-form'),\n  addObjectBtn: document.querySelector('.js-add-object-button'),\n  submitObjectBtn: document.querySelector('.js-solar-submit-button'),\n  deleteSolarCardBtn: document.querySelector('.js-delete-solar-card'),\n  modalBackdrop: document.querySelector('.js-modal-backdrop'),\n  modalWindow: document.querySelector('.js-modal-window'),\n  container: document.querySelector('.container'),\n};\n\n//============== BUTTONS ==============\n\nrefs.addObjectBtn.addEventListener('click', () => {\n  refs.modalBackdrop.classList.add('is-open');\n});\n\nrefs.modalWindow.addEventListener('click', e => {\n  e.stopPropagation();\n});\n\nrefs.modalBackdrop.addEventListener('click', () => {\n  refs.modalBackdrop.classList.remove('is-open');\n});\n\nrefs.submitObjectBtn.addEventListener('click', () => {\n  refs.modalBackdrop.classList.remove('is-open');\n});\n\nrefs.container.addEventListener('click', e => {\n  if (e.target && e.target.classList.contains('js-delete-solar-card')) {\n    const button = e.target;\n    const card = button.closest('.solar-container');\n    const cardID = card.dataset.id;\n\n    solarList = solarList.filter(solar => solar.id !== Number(cardID));\n\n    saveToLS(SOLAR_LIST_KEY, solarList);\n\n    card.remove();\n    localStorage.removeItem(SOLAR_OBJECT_KEY);\n  }\n});\n\n//============================\n\nrefs.solarForm.addEventListener('input', e => {\n  const solarObject = {\n    id: Date.now(),\n\n    image: e.currentTarget.elements.image.value,\n    title: e.currentTarget.elements.title.value,\n    type: e.currentTarget.elements.type.value,\n    diameter: e.currentTarget.elements.diameter.value,\n    distanceFromSun: e.currentTarget.elements.distance.value,\n    hasAtmosphere: e.currentTarget.elements.atmosphere.checked ? 'Так' : 'Ні',\n    discovered_by: e.currentTarget.elements.discovered_by.value,\n  };\n\n  saveToLS(SOLAR_OBJECT_KEY, solarObject);\n});\n\nfunction initPage() {\n  const solarObject = loadFromLS(SOLAR_OBJECT_KEY) || {};\n\n  refs.solarForm.elements.image.value = solarObject.image || '';\n  refs.solarForm.elements.title.value = solarObject.title || '';\n  refs.solarForm.elements.type.value = solarObject.type || 'Планета';\n  refs.solarForm.elements.diameter.value = solarObject.diameter || '';\n  refs.solarForm.elements.distance.value = solarObject.distanceFromSun || '';\n  refs.solarForm.elements.atmosphere.checked =\n    solarObject.hasAtmosphere === 'Так';\n  refs.solarForm.elements.discovered_by.value = solarObject.discovered_by || '';\n\n  solarList = loadFromLS(SOLAR_LIST_KEY) || [];\n  refs.container.innerHTML = solarCardsTemplate(solarList);\n}\n\ninitPage();\n\nrefs.solarForm.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const solarObject = {\n    id: Date.now(),\n    image: e.currentTarget.elements.image.value,\n    title: e.currentTarget.elements.title.value,\n    type: e.currentTarget.elements.type.value,\n    diameter: e.currentTarget.elements.diameter.value,\n    distanceFromSun: e.currentTarget.elements.distance.value,\n    hasAtmosphere: e.currentTarget.elements.atmosphere.checked ? 'Так' : 'Ні',\n    discovered_by: e.currentTarget.elements.discovered_by.value,\n  };\n\n  if (\n    !solarObject.image ||\n    !solarObject.title ||\n    !solarObject.type ||\n    !solarObject.diameter ||\n    !solarObject.distanceFromSun ||\n    !solarObject.discovered_by\n  ) {\n    alert('Please, fill all inputs');\n    return;\n  }\n\n  solarList.push(solarObject);\n\n  refs.container.innerHTML = solarCardsTemplate(solarList);\n  saveToLS(SOLAR_LIST_KEY, solarList);\n\n  refs.solarForm.reset();\n  localStorage.removeItem(SOLAR_OBJECT_KEY);\n});\n\n//--------------------------------------------------------------------------------------\n\nfunction saveToLS(key, value) {\n  const jsonData = JSON.stringify(value);\n  localStorage.setItem(key, jsonData);\n}\n\nfunction loadFromLS(key) {\n  const data = localStorage.getItem(key);\n\n  try {\n    const parseData = JSON.parse(data);\n    return parseData;\n  } catch {\n    return data;\n  }\n}\n\nfunction solarCardTemplate({\n  id,\n  image,\n  title,\n  type,\n  diameter,\n  distanceFromSun,\n  hasAtmosphere,\n  discovered_by,\n}) {\n  return `\n            <div class=\"solar-container\" data-id=\"${id}\">\n                <img class=\"solar-image\" src=\"${image}\" alt=\"${title}\">\n                <p><strong>Назва: </strong>${title}</p>\n                <p><strong>Тип: </strong>${type}</p>\n                <p><strong>Діаметр: </strong>${diameter} км</p>\n                <p><strong>Відстань до Сонця (млн км): </strong>${distanceFromSun}</p>\n                <p><strong>Чи є атмосфера: </strong>${hasAtmosphere}</p>\n                <p><strong>Відкривач: </strong>${discovered_by}</p>\n\n                <button class=\"delete-solar-card js-delete-solar-card\" type=\"button\">Видалити картку</button>\n            </div>\n            \n    `;\n}\n\nfunction solarCardsTemplate(cards) {\n  return cards.map(solarCardTemplate).join('\\n');\n}\n"],"names":["SOLAR_OBJECT_KEY","SOLAR_LIST_KEY","solarList","refs","card","cardID","solar","saveToLS","solarObject","initPage","loadFromLS","solarCardsTemplate","key","value","jsonData","data","solarCardTemplate","id","image","title","type","diameter","distanceFromSun","hasAtmosphere","discovered_by","cards"],"mappings":"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"}