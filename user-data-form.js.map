{"version":3,"file":"user-data-form.js","sources":["../src/user-data-form.js"],"sourcesContent":["const STORAGE_KEY = 'form-storage-key';\nconst USER_LIST_KEY = 'user-list-key';\n\nlet userDataArray = [];\n\nconst refs = {\n  userForm: document.querySelector('.feedback-form'),\n  container: document.querySelector('.container'),\n};\n\nrefs.userForm.addEventListener('input', e => {\n  const userData = {\n    firstName: e.currentTarget.elements['first-name'].value,\n    lastName: e.currentTarget.elements['last-name'].value,\n    email: e.currentTarget.elements.email.value,\n    phone: e.currentTarget.elements.phone.value,\n  };\n\n  saveToLS(STORAGE_KEY, userData);\n});\n\nfunction initPage() {\n  const userFormData = loadFromLS(STORAGE_KEY) || {};\n\n  refs.userForm.elements['first-name'].value = userFormData?.firstName || '';\n  refs.userForm.elements['last-name'].value = userFormData?.lastName || '';\n  refs.userForm.elements.email.value = userFormData?.email || '';\n  refs.userForm.elements.phone.value = userFormData?.phone || '';\n\n  userDataArray = loadFromLS(USER_LIST_KEY) || [];\n  refs.container.innerHTML = cardsTemplate(userDataArray);\n}\n\ninitPage();\n\nrefs.userForm.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const firstName = e.currentTarget.elements['first-name'].value.trim();\n  const lastName = e.currentTarget.elements['last-name'].value.trim();\n  const email = e.currentTarget.elements.email.value.trim();\n  const phone = e.currentTarget.elements.phone.value.trim();\n\n  if (!firstName || !lastName || !email || !phone) {\n    alert('Please, fill all inputs');\n    return;\n  }\n\n  const userDataObject = { firstName, lastName, email, phone };\n  userDataArray.push(userDataObject);\n\n  refs.container.innerHTML = cardsTemplate(userDataArray);\n  saveToLS(USER_LIST_KEY, userDataArray);\n\n  refs.userForm.reset();\n  localStorage.removeItem(STORAGE_KEY);\n});\n\nfunction saveToLS(key, value) {\n  const JSONdata = JSON.stringify(value);\n  localStorage.setItem(key, JSONdata);\n}\n\nfunction loadFromLS(key) {\n  const data = localStorage.getItem(key);\n\n  try {\n    const dataParse = JSON.parse(data);\n    return dataParse;\n  } catch {\n    return data;\n  }\n}\n\nfunction cardTemplate({ firstName, lastName, email, phone }) {\n  return `  <div class=\"user-data-container\">\n                <p class=\"first-name\"><strong>First Name</strong>: ${firstName}</p>\n                <p class=\"last-name\"><strong>Last Name</strong>: ${lastName}</p>\n                <p class=\"email\"><strong>Email</strong>: ${email}</p>\n                <p class=\"tel\"><strong>Phone Number</strong>: +${phone}</p>\n            </div>`;\n}\n\nfunction cardsTemplate(cards) {\n  return cards.map(cardTemplate).join('');\n}\n\n// const userDataArrays = [\n//   {\n//     firstName: 'John',\n//     lastName: 'Doe',\n//     email: 'john.doe@example.com',\n//     phone: '+1234567890',\n//   },\n//   {\n//     firstName: 'Jane',\n//     lastName: 'Smith',\n//     email: 'jane.smith@example.com',\n//     phone: '+1987654321',\n//   },\n//   {\n//     firstName: 'Alice',\n//     lastName: 'Brown',\n//     email: 'alice.brown@example.com',\n//     phone: '+1122334455',\n//   },\n//   {\n//     firstName: 'Bob',\n//     lastName: 'Johnson',\n//     email: 'bob.johnson@example.com',\n//     phone: '+1098765432',\n//   },\n//   {\n//     firstName: 'Emma',\n//     lastName: 'Brown',\n//     email: 'emma.brown@example.com',\n//     phone: '+14165552345',\n//   },\n//   {\n//     firstName: 'Michael',\n//     lastName: 'Williams',\n//     email: 'michael.williams@example.com',\n//     phone: '+15105553456',\n//   },\n//   {\n//     firstName: 'Sophia',\n//     lastName: 'Davis',\n//     email: 'sophia.davis@example.com',\n//     phone: '+16175554567',\n//   },\n//   {\n//     firstName: 'Daniel',\n//     lastName: 'Miller',\n//     email: 'daniel.miller@example.com',\n//     phone: '+17185555678',\n//   },\n//   {\n//     firstName: 'Olivia',\n//     lastName: 'Wilson',\n//     email: 'olivia.wilson@example.com',\n//     phone: '+18195556789',\n//   },\n//   {\n//     firstName: 'Liam',\n//     lastName: 'Anderson',\n//     email: 'liam.anderson@example.com',\n//     phone: '+19205557890',\n//   },\n//   {\n//     firstName: 'Charlotte',\n//     lastName: 'Thomas',\n//     email: 'charlotte.thomas@example.com',\n//     phone: '+20215558901',\n//   },\n//   {\n//     firstName: 'James',\n//     lastName: 'Jackson',\n//     email: 'james.jackson@example.com',\n//     phone: '+21225559012',\n//   },\n// ];\n"],"names":["STORAGE_KEY","USER_LIST_KEY","userDataArray","refs","userData","saveToLS","initPage","userFormData","loadFromLS","cardsTemplate","firstName","lastName","email","phone","userDataObject","key","value","JSONdata","data","cardTemplate","cards"],"mappings":"wFAAA,MAAMA,EAAc,mBACdC,EAAgB,gBAEtB,IAAIC,EAAgB,CAAA,EAEpB,MAAMC,EAAO,CACX,SAAU,SAAS,cAAc,gBAAgB,EACjD,UAAW,SAAS,cAAc,YAAY,CAChD,EAEAA,EAAK,SAAS,iBAAiB,QAAS,GAAK,CAC3C,MAAMC,EAAW,CACf,UAAW,EAAE,cAAc,SAAS,YAAY,EAAE,MAClD,SAAU,EAAE,cAAc,SAAS,WAAW,EAAE,MAChD,MAAO,EAAE,cAAc,SAAS,MAAM,MACtC,MAAO,EAAE,cAAc,SAAS,MAAM,KAC1C,EAEEC,EAASL,EAAaI,CAAQ,CAChC,CAAC,EAED,SAASE,GAAW,CAClB,MAAMC,EAAeC,EAAWR,CAAW,GAAK,CAAA,EAEhDG,EAAK,SAAS,SAAS,YAAY,EAAE,OAAQI,GAAA,YAAAA,EAAc,YAAa,GACxEJ,EAAK,SAAS,SAAS,WAAW,EAAE,OAAQI,GAAA,YAAAA,EAAc,WAAY,GACtEJ,EAAK,SAAS,SAAS,MAAM,OAAQI,GAAA,YAAAA,EAAc,QAAS,GAC5DJ,EAAK,SAAS,SAAS,MAAM,OAAQI,GAAA,YAAAA,EAAc,QAAS,GAE5DL,EAAgBM,EAAWP,CAAa,GAAK,GAC7CE,EAAK,UAAU,UAAYM,EAAcP,CAAa,CACxD,CAEAI,IAEAH,EAAK,SAAS,iBAAiB,SAAU,GAAK,CAC5C,EAAE,eAAc,EAEhB,MAAMO,EAAY,EAAE,cAAc,SAAS,YAAY,EAAE,MAAM,OACzDC,EAAW,EAAE,cAAc,SAAS,WAAW,EAAE,MAAM,OACvDC,EAAQ,EAAE,cAAc,SAAS,MAAM,MAAM,OAC7CC,EAAQ,EAAE,cAAc,SAAS,MAAM,MAAM,OAEnD,GAAI,CAACH,GAAa,CAACC,GAAY,CAACC,GAAS,CAACC,EAAO,CAC/C,MAAM,yBAAyB,EAC/B,MACD,CAED,MAAMC,EAAiB,CAAE,UAAAJ,EAAW,SAAAC,EAAU,MAAAC,EAAO,MAAAC,CAAK,EAC1DX,EAAc,KAAKY,CAAc,EAEjCX,EAAK,UAAU,UAAYM,EAAcP,CAAa,EACtDG,EAASJ,EAAeC,CAAa,EAErCC,EAAK,SAAS,QACd,aAAa,WAAWH,CAAW,CACrC,CAAC,EAED,SAASK,EAASU,EAAKC,EAAO,CAC5B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACpC,CAEA,SAAST,EAAWO,EAAK,CACvB,MAAMG,EAAO,aAAa,QAAQH,CAAG,EAErC,GAAI,CAEF,OADkB,KAAK,MAAMG,CAAI,CAErC,MAAU,CACN,OAAOA,CACR,CACH,CAEA,SAASC,EAAa,CAAE,UAAAT,EAAW,SAAAC,EAAU,MAAAC,EAAO,MAAAC,CAAK,EAAI,CAC3D,MAAO;AAAA,qEAC4DH,CAAS;AAAA,mEACXC,CAAQ;AAAA,2DAChBC,CAAK;AAAA,iEACCC,CAAK;AAAA,mBAEtE,CAEA,SAASJ,EAAcW,EAAO,CAC5B,OAAOA,EAAM,IAAID,CAAY,EAAE,KAAK,EAAE,CACxC"}